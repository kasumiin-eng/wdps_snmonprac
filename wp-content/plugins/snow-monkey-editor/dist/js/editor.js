!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=40)}([function(e,t){e.exports=window.wp.element},function(e,t){e.exports=window.wp.i18n},function(e,t){e.exports=window.wp.components},function(e,t){e.exports=window.wp.blockEditor},function(e,t){e.exports=window.wp.richText},function(e,t){e.exports=window.lodash},function(e,t){e.exports=window.wp.hooks},function(e,t){e.exports=window.wp.data},function(e,t,n){var o=n(33),r=n(34),a=n(19),c=n(35);e.exports=function(e,t){return o(e)||r(e,t)||a(e,t)||c()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=window.wp.blocks},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n(0),r=Object(o.createElement)("svg",{role:"img",focusable:"false",width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},Object(o.createElement)("path",{d:"M13.982,16.711c-0.744,1.441 -2.248,2.428 -3.982,2.428c-1.735,0 -3.238,-0.986 -3.983,-2.428c0.909,-1.213 2.355,-2.002 3.983,-2.002c1.629,0 3.074,0.789 3.982,2.002Zm-0.748,-7.657c-0.314,2.56 1.248,2.919 1.248,5.603c0,0.467 -0.072,0.918 -0.205,1.344c-1.037,-1.203 -2.57,-1.967 -4.277,-1.967c-1.708,0 -3.24,0.764 -4.277,1.967c-0.133,-0.426 -0.205,-0.877 -0.205,-1.344c0,-2.684 1.563,-3.043 1.247,-5.603c-0.362,-2.928 -4.315,-2.465 -4.315,-5.334c0,-1.579 1.279,-2.858 2.858,-2.858c1.709,0 2.765,1.558 4.692,1.558c1.926,0 2.982,-1.558 4.691,-1.558c1.578,0 2.857,1.279 2.857,2.858c0.001,2.869 -3.952,2.406 -4.314,5.334Zm-4.677,-4.947l-0.708,0c0,0.498 -0.403,0.9 -0.901,0.9c-0.498,0 -0.901,-0.402 -0.901,-0.9l-0.708,0c0,0.889 0.72,1.609 1.609,1.609c0.889,0 1.609,-0.72 1.609,-1.609Zm0.979,7.141c0,-0.312 -0.253,-0.568 -0.566,-0.568c-0.313,0 -0.567,0.256 -0.567,0.568c0,0.312 0.254,0.566 0.567,0.566c0.313,0 0.566,-0.253 0.566,-0.566Zm2.062,0c0,-0.312 -0.254,-0.568 -0.568,-0.568c-0.312,0 -0.566,0.256 -0.566,0.568c0,0.312 0.254,0.566 0.566,0.566c0.314,0 0.568,-0.253 0.568,-0.566Zm3.062,-7.141l-0.707,0c0,0.498 -0.404,0.9 -0.9,0.9c-0.498,0 -0.902,-0.402 -0.902,-0.9l-0.707,0c0,0.889 0.721,1.609 1.609,1.609c0.886,0.001 1.607,-0.72 1.607,-1.609Z"}))},function(e,t){e.exports=window.wp.compose},,,function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o},e.exports.default=e.exports,e.exports.__esModule=!0},,,,function(e,t,n){var o=n(15);e.exports=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},,function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,n.apply(this,arguments)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var o=n(36);e.exports=function(e,t){if(null==e)return{};var n,r,a=o(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=window.wp.keycodes},function(e,t){e.exports=function(e){if("string"!=typeof e)throw new Error("color has to be type of `string`");if("#"===e.substr(0,1))return{hex:e,alpha:1};var t=e.replace(/\s+/g,""),n=/(.*?)rgb(a)??\((\d{1,3}),(\d{1,3}),(\d{1,3})(,([01]|1.0*|0??\.([0-9]{0,})))??\)/.exec(t);if(!n)throw new Error("given color ("+e+") isn't a valid rgb or rgba color");var o=parseInt(n[3],10),r=parseInt(n[4],10),a=parseInt(n[5],10),c=n[6]?/([0-9\.]+)/.exec(n[6])[0]:"1",i=(a|r<<8|o<<16|1<<24).toString(16).slice(1);return"."===c.substr(0,1)&&(c=parseFloat("0"+c)),c=parseFloat(Math.round(100*c))/100,{hex:"#"+i.toString(16),alpha:c}}},function(e,t,n){"use strict";var o=function(e){return parseInt(e,16)};e.exports=function(e,t){var n,r;return function(e,t){var n,o=e.r,r=e.g,a=e.b,c=e.a,i=(n=t,!isNaN(parseFloat(n))&&isFinite(n)?t:c);return"rgba(".concat(o,", ").concat(r,", ").concat(a,", ").concat(i,")")}(function(e){var t=e.g,n=e.b,r=e.a;return{r:o(e.r),g:o(t),b:o(n),a:+(o(r)/255).toFixed(2)}}({r:(r=3===(n=function(e){return"#"===e.charAt(0)?e.slice(1):e}(e)).length||4===n.length)?"".concat(n.slice(0,1)).concat(n.slice(0,1)):n.slice(0,2),g:r?"".concat(n.slice(1,2)).concat(n.slice(1,2)):n.slice(2,4),b:r?"".concat(n.slice(2,3)).concat(n.slice(2,3)):n.slice(4,6),a:(r?"".concat(n.slice(3,4)).concat(n.slice(3,4)):n.slice(6,8))||"ff"}),t)}},,,,,,,,function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var o,r,a=[],_n=!0,c=!1;try{for(n=n.call(e);!(_n=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);_n=!0);}catch(e){c=!0,r=e}finally{try{_n||null==n.return||n.return()}finally{if(c)throw r}}return a}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r},e.exports.default=e.exports,e.exports.__esModule=!0},,,,function(e,t,n){"use strict";n.r(t);var o={};n.r(o),n.d(o,"settings",(function(){return M}));var r={};n.r(r),n.d(r,"settings",(function(){return B}));var a={};n.r(a),n.d(a,"settings",(function(){return V}));var c={};n.r(c),n.d(c,"settings",(function(){return W}));var i={};n.r(i),n.d(i,"settings",(function(){return Y}));var s={};n.r(s),n.d(s,"settings",(function(){return ae}));var l={};n.r(l),n.d(l,"settings",(function(){return ge}));var u={};n.r(u),n.d(u,"settings",(function(){return Oe}));var m=n(8),b=n.n(m),p=n(0),f=n(5),g=n(3),d=n(2),v=n(4),O=n(1),j=n(11),y={position:"bottom left",isAlternate:!0};Object(v.registerFormatType)("snow-monkey-editor/dropdown",{title:"buttons",tagName:"sme-dropdown",className:null,edit:function(){return Object(p.createElement)(g.BlockFormatControls,null,Object(p.createElement)("div",{className:"block-editor-format-toolbar"},Object(p.createElement)(d.ToolbarGroup,null,Object(p.createElement)(d.Slot,{name:"SnowMonkey.ToolbarControls"},(function(e){return 0!==e.length&&Object(p.createElement)(d.ToolbarItem,null,(function(t){return Object(p.createElement)(d.DropdownMenu,{icon:j.a,label:Object(O.__)("Snow Monkey Editor Controls","snow-monkey-editor"),toggleProps:t,controls:Object(f.orderBy)(e.map((function(e){return b()(e,1)[0].props})),"title"),popoverProps:y})}))})),["sme-font-size","sme-letter-spacing","sme-line-height","sme-text-color","sme-bg-color","sme-highlighter","sme-badge"].map((function(e){return Object(p.createElement)(d.Slot,{name:"SnowMonkey.ToolbarControls.".concat(e),key:e})})))))}});var h=function(e){if(e){var t=e.name,n=e.settings;Object(v.registerFormatType)(t,n)}},w=n(9),k=n.n(w),C=n(7),_=n(21),x=n.n(_),E=n(22),F=n.n(E),S=n(23);function N(e){var t,n=e.name,o=e.shortcutType,r=e.shortcutCharacter,a=F()(e,["name","shortcutType","shortcutCharacter"]),c="SnowMonkey.ToolbarControls";return n&&(c+=".".concat(n)),o&&r&&(t=S.displayShortcut[o](r)),Object(p.createElement)(d.Fill,{name:c},Object(p.createElement)(d.ToolbarButton,x()({},a,{shortcut:t})))}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var R=Object(O.__)("Remove formatting","snow-monkey-editor"),M={name:"snow-monkey-editor/remove-fomatting",title:R,tagName:"span",className:"sme-remove-fomatting",edit:function(e){var t=e.value,n=e.onChange,o=Object(C.useSelect)((function(e){return e("core/rich-text").getFormatTypes()}),[]),r=Object(p.useCallback)((function(){if(0<o.length){var e=t;o.forEach((function(t){e=Object(v.removeFormat)(e,t.name)})),n(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))}}),[t,o]);return Object(p.createElement)(N,{icon:"editor-removeformatting",title:R,onClick:r})}};function P(e){var t=e.ref,n=e.value,o=e.settings,r=void 0===o?{}:o,a=r.tagName,c=r.className,i=r.name,s=i?Object(v.getActiveFormat)(n,i):void 0;return Object(p.useMemo)((function(){if(t.current){var e=t.current.ownerDocument.defaultView.getSelection();if(e.rangeCount){var n=e.getRangeAt(0);if(!s)return n;var o=n.startContainer;for(o=o.nextElementSibling||o;o.nodeType!==o.ELEMENT_NODE;)o=o.parentNode;return o.closest(a+(c?"."+c:""))}}}),[])}var z=function(e){var t=e.name,n=e.value,o=e.onChange,r=e.onClose,a=Object(C.useSelect)((function(e){var t=e("core/block-editor").getSettings;return Object(f.get)(t(),["fontSizes"],[])})),c=Object(p.useCallback)((function(e){if(e){var c="string"==typeof e&&e.endsWith("px"),i=c?e:"".concat(e,"px"),s=c?Number(i.replace("px","")):e,l=Object(f.find)(a,{size:s});o(Object(v.applyFormat)(n,{type:t,attributes:l?{class:Object(g.getFontSizeClass)(l.slug)}:{style:"font-size: ".concat(i)}}))}else o(Object(v.removeFormat)(n,t)),r()}),[a,o]),i=Object(p.useMemo)((function(){return function(e,t,n){var o=Object(v.getActiveFormat)(t,e);if(o){var r=o.attributes.style;if(r)return r.replace(new RegExp("^font-size:\\s*"),"");var a=o.attributes.class;if(a){var c=a.replace(/.*has-([^\s]*)-font-size.*/,"$1");return Object(f.find)(n,{slug:c}).size}}}(t,n,a)}),[t,n]);return Object(p.createElement)(g.FontSizePicker,{value:i,onChange:c,fontSizes:a})},T=Object(d.withSpokenMessages)((function(e){var t=e.name,n=e.value,o=e.onChange,r=e.onClose,a=P({ref:e.contentRef,value:n,settings:e.settings});return Object(p.createElement)(g.URLPopover,{value:n,onClose:r,className:"sme-popover components-inline-color-popover",anchorRef:a},Object(p.createElement)(z,{name:t,value:n,onChange:o,onClose:r}))})),I=Object(O.__)("Font size","snow-monkey-editor"),U=[],B={name:"snow-monkey-editor/font-size",title:I,tagName:"span",className:"sme-font-size",attributes:{style:"style",class:"class"},edit:function(e){var t=e.value,n=e.onChange,o=e.isActive,r=e.activeAttributes,a=e.contentRef,c=Object(g.__experimentalUseEditorFeature)("typography.customFontSize","snow-monkey-editor/font-size"),i=Object(g.__experimentalUseEditorFeature)("typography.fontSizes")||U,s=Object(p.useState)(!1),l=b()(s,2),u=l[0],m=l[1],O=Object(p.useCallback)((function(){return m(!0)}),[m]),j=Object(p.useCallback)((function(){return m(!1)}),[m]),y=!Object(f.isEmpty)(i)||!c;return y||o?Object(p.createElement)(p.Fragment,null,Object(p.createElement)(N,{key:o?"sme-font-size":"sme-font-size-not-active",name:o?"sme-font-size":void 0,title:I,className:"format-library-text-color-button sme-toolbar-button",onClick:y?O:function(){return n(Object(v.removeFormat)(t,"snow-monkey-editor/font-size"))},icon:Object(p.createElement)(p.Fragment,null,Object(p.createElement)(d.Icon,{icon:"editor-textcolor"}),o&&Object(p.createElement)("span",{className:"format-library-text-color-button__indicator sme-toolbar-button__indicator",style:{backgroundColor:"#cd162c"}}))}),u&&Object(p.createElement)(T,{name:"snow-monkey-editor/font-size",onClose:j,activeAttributes:r,value:t,onChange:function(){n.apply(void 0,arguments)},contentRef:a,settings:B})):null}},L=function(e){var t=e.name,n=e.title,o=e.value,r=e.onChange,a=e.onClose,c=Object(p.useCallback)((function(e){e?r(Object(v.applyFormat)(o,{type:t,attributes:{style:"letter-spacing: ".concat(e,"rem")}})):(r(Object(v.removeFormat)(o,t)),a())}),[r]),i=Object(p.useMemo)((function(){return function(e,t){var n=Object(v.getActiveFormat)(t,e);if(n){var o=n.attributes.style;return o?parseFloat(o.replace(new RegExp("^letter-spacing:\\s*"),"").replace("rem","")):void 0}}(t,o)}),[t,o]);return Object(p.createElement)(d.RangeControl,{label:n,value:i,onChange:c,min:"0",max:"2",step:"0.1",initialPosition:void 0,allowReset:!0})},D=Object(d.withSpokenMessages)((function(e){var t=e.name,n=e.title,o=e.value,r=e.onChange,a=e.onClose,c=P({ref:e.contentRef,value:o,settings:e.settings});return Object(p.createElement)(g.URLPopover,{value:o,onClose:a,className:"sme-popover components-inline-color-popover",anchorRef:c},Object(p.createElement)(L,{name:t,title:n,value:o,onChange:r,onClose:a}))})),Z=Object(O.__)("Letter spacing","snow-monkey-editor"),V={name:"snow-monkey-editor/letter-spacing",title:Z,tagName:"span",className:"sme-letter-spacing",attributes:{style:"style"},edit:function(e){var t=e.value,n=e.onChange,o=e.isActive,r=e.activeAttributes,a=e.contentRef,c=Object(p.useState)(!1),i=b()(c,2),s=i[0],l=i[1],u=Object(p.useCallback)((function(){return l(!0)}),[l]),m=Object(p.useCallback)((function(){return l(!1)}),[l]);return Object(p.createElement)(p.Fragment,null,Object(p.createElement)(N,{key:o?"sme-letter-spacing":"sme-letter-spacing-not-active",name:o?"sme-letter-spacing":void 0,title:Z,className:"format-library-text-color-button sme-toolbar-button",onClick:u,icon:Object(p.createElement)(p.Fragment,null,Object(p.createElement)(d.Icon,{icon:"controls-pause"}),o&&Object(p.createElement)("span",{className:"format-library-text-color-button__indicator sme-toolbar-button__indicator",style:{backgroundColor:"#cd162c"}}))}),s&&Object(p.createElement)(D,{name:"snow-monkey-editor/letter-spacing",title:Z,onClose:m,activeAttributes:r,value:t,onChange:function(){n.apply(void 0,arguments)},contentRef:a,settings:V}))}},$=function(e){var t=e.name,n=e.title,o=e.value,r=e.onChange,a=e.onClose,c=Object(p.useCallback)((function(e){e?r(Object(v.applyFormat)(o,{type:t,attributes:{style:"line-height: ".concat(e,"rem")}})):(r(Object(v.removeFormat)(o,t)),a())}),[r]),i=Object(p.useMemo)((function(){return function(e,t){var n=Object(v.getActiveFormat)(t,e);if(n){var o=n.attributes.style;return o?parseFloat(o.replace(new RegExp("^line-height:\\s*"),"").replace("rem","")):void 0}}(t,o)}),[t,o]);return Object(p.createElement)(d.RangeControl,{label:n,value:i,onChange:c,min:"0",max:"5",step:"0.1",initialPosition:void 0,allowReset:!0})},q=Object(d.withSpokenMessages)((function(e){var t=e.name,n=e.title,o=e.value,r=e.onChange,a=e.onClose,c=P({ref:e.contentRef,value:o,settings:e.settings});return Object(p.createElement)(g.URLPopover,{value:o,onClose:a,className:"sme-popover components-inline-color-popover",anchorRef:c},Object(p.createElement)($,{name:t,title:n,value:o,onChange:r,onClose:a}))})),H=Object(O.__)("Line height","snow-monkey-editor"),W={name:"snow-monkey-editor/line-height",title:H,tagName:"span",className:"sme-line-height",attributes:{style:"style"},edit:function(e){var t=e.value,n=e.onChange,o=e.isActive,r=e.activeAttributes,a=e.contentRef,c=Object(p.useState)(!1),i=b()(c,2),s=i[0],l=i[1],u=Object(p.useCallback)((function(){return l(!0)}),[l]),m=Object(p.useCallback)((function(){return l(!1)}),[l]);return Object(p.createElement)(p.Fragment,null,Object(p.createElement)(N,{key:o?"sme-line-height":"sme-line-height-not-active",name:o?"sme-line-height":void 0,title:H,className:"format-library-text-color-button sme-toolbar-button",onClick:u,icon:Object(p.createElement)(p.Fragment,null,Object(p.createElement)(d.Icon,{icon:"editor-insertmore"}),o&&Object(p.createElement)("span",{className:"format-library-text-color-button__indicator sme-toolbar-button__indicator",style:{backgroundColor:"#cd162c"}}))}),s&&Object(p.createElement)(q,{name:"snow-monkey-editor/line-height",title:H,onClose:m,activeAttributes:r,value:t,onChange:function(){n.apply(void 0,arguments)},contentRef:a,settings:W}))}};function G(e,t,n){var o=Object(v.getActiveFormat)(t,e);if(o){var r=o.attributes.style;if(r)return r.replace(new RegExp("^color:\\s*"),"");var a=o.attributes.class;if(a){var c=a.replace(/.*has-([^\s]*)-color.*/,"$1");return Object(g.getColorObjectByAttributeValues)(n,c).color}}}var J=function(e){var t=e.name,n=e.value,o=e.onChange,r=e.onClose,a=Object(C.useSelect)((function(e){var t=e("core/block-editor").getSettings;return Object(f.get)(t(),["colors"],[])})),c=Object(p.useCallback)((function(e){if(e){var c=Object(g.getColorObjectByColorValue)(a,e);o(Object(v.applyFormat)(n,{type:t,attributes:c?{class:Object(g.getColorClassName)("color",c.slug)}:{style:"color: ".concat(e)}}))}else o(Object(v.removeFormat)(n,t)),r()}),[a,o]),i=Object(p.useMemo)((function(){return G(t,n,a)}),[t,n,a]);return Object(p.createElement)(g.ColorPalette,{value:i,onChange:c})},K=Object(d.withSpokenMessages)((function(e){var t=e.name,n=e.value,o=e.onChange,r=e.onClose,a=P({ref:e.contentRef,value:n,settings:e.settings});return Object(p.createElement)(g.URLPopover,{value:n,onClose:r,className:"sme-popover components-inline-color-popover",anchorRef:a},Object(p.createElement)(J,{name:t,value:n,onChange:o,onClose:r}))})),Q=Object(O.__)("Text color","snow-monkey-editor"),X=[],Y={name:"snow-monkey-editor/text-color",title:Q,tagName:"span",className:"sme-text-color",attributes:{style:"style",class:"class"},edit:function(e){var t=e.value,n=e.onChange,o=e.isActive,r=e.activeAttributes,a=e.contentRef,c=Object(g.__experimentalUseEditorFeature)("color.custom"),i=Object(g.__experimentalUseEditorFeature)("color.palette")||X,s=Object(p.useState)(!1),l=b()(s,2),u=l[0],m=l[1],O=Object(p.useCallback)((function(){return m(!0)}),[m]),j=Object(p.useCallback)((function(){return m(!1)}),[m]),y=Object(p.useMemo)((function(){var e=G("snow-monkey-editor/text-color",t,i);if(e)return{backgroundColor:e}}),[t,i]),h=!Object(f.isEmpty)(i)||!c;return h||o?Object(p.createElement)(p.Fragment,null,Object(p.createElement)(N,{key:o?"sme-text-color":"sme-text-color-not-active",name:o?"sme-text-color":void 0,title:Q,className:"format-library-text-color-button sme-toolbar-button",onClick:h?O:function(){return n(Object(v.removeFormat)(t,"snow-monkey-editor/text-color"))},icon:Object(p.createElement)(p.Fragment,null,Object(p.createElement)(d.Icon,{icon:"edit"}),o&&Object(p.createElement)("span",{className:"format-library-text-color-button__indicator sme-toolbar-button__indicator",style:y}))}),u&&Object(p.createElement)(K,{name:"snow-monkey-editor/text-color",onClose:j,activeAttributes:r,value:t,onChange:function(){n.apply(void 0,arguments)},contentRef:a,settings:Y})):null}};function ee(e,t,n){var o=Object(v.getActiveFormat)(t,e);if(o){var r=o.attributes.style;if(r)return r.replace(new RegExp("^background-color:\\s*"),"");var a=o.attributes.class;if(a){var c=a.replace(/.*has-([^\s]*)-background-color.*/,"$1");return Object(g.getColorObjectByAttributeValues)(n,c).color}}}var te=function(e){var t=e.name,n=e.value,o=e.onChange,r=e.onClose,a=Object(C.useSelect)((function(e){var t=e("core/block-editor").getSettings;return Object(f.get)(t(),["colors"],[])})),c=Object(p.useCallback)((function(e){if(e){var c=Object(g.getColorObjectByColorValue)(a,e);o(Object(v.applyFormat)(n,{type:t,attributes:c?{class:Object(g.getColorClassName)("background-color",c.slug)}:{style:"background-color: ".concat(e)}}))}else o(Object(v.removeFormat)(n,t)),r()}),[a,o]),i=Object(p.useMemo)((function(){return ee(t,n,a)}),[t,n,a]);return Object(p.createElement)(g.ColorPalette,{value:i,onChange:c})},ne=Object(d.withSpokenMessages)((function(e){var t=e.name,n=e.value,o=e.onChange,r=e.onClose,a=P({ref:e.contentRef,value:n,settings:e.settings});return Object(p.createElement)(g.URLPopover,{value:n,onClose:r,className:"sme-popover components-inline-color-popover",anchorRef:a},Object(p.createElement)(te,{name:t,value:n,onChange:o,onClose:r}))})),oe=Object(O.__)("Background color","snow-monkey-editor"),re=[],ae={name:"snow-monkey-editor/bg-color",title:oe,tagName:"span",className:"sme-bg-color",attributes:{style:"style",class:"class"},edit:function(e){var t=e.value,n=e.onChange,o=e.isActive,r=e.activeAttributes,a=e.contentRef,c=Object(g.__experimentalUseEditorFeature)("color.custom"),i=Object(g.__experimentalUseEditorFeature)("color.palette")||re,s=Object(p.useState)(!1),l=b()(s,2),u=l[0],m=l[1],O=Object(p.useCallback)((function(){return m(!0)}),[m]),j=Object(p.useCallback)((function(){return m(!1)}),[m]),y=Object(p.useMemo)((function(){var e=ee("snow-monkey-editor/bg-color",t,i);if(e)return{backgroundColor:e}}),[t,i]),h=!Object(f.isEmpty)(i)||!c;return h||o?Object(p.createElement)(p.Fragment,null,Object(p.createElement)(N,{key:o?"sme-bg-color":"sme-bg-color-not-active",name:o?"sme-bg-color":void 0,title:oe,className:"format-library-text-color-button sme-toolbar-button",onClick:h?O:function(){return n(Object(v.removeFormat)(t,"snow-monkey-editor/bg-color"))},icon:Object(p.createElement)(p.Fragment,null,Object(p.createElement)(d.Icon,{icon:"buddicons-topics"}),o&&Object(p.createElement)("span",{className:"format-library-text-color-button__indicator sme-toolbar-button__indicator",style:y}))}),u&&Object(p.createElement)(ne,{name:"snow-monkey-editor/bg-color",onClose:j,activeAttributes:r,value:t,onChange:function(){n.apply(void 0,arguments)},contentRef:a,settings:ae})):null}},ce=n(24),ie=n.n(ce),se=n(25),le=n.n(se);function ue(e,t){var n=Object(v.getActiveFormat)(t,e);if(n){var o=n.attributes.style;if(o){var r=o.match(/(#[0-9A-F]{3,6}) /i);if(r)return r;var a=o.match(/,\s*?(rgba?\([^)]+\)) /i);return a?function(e){if(!e||4===e.length)return e;var t=e.match(/^#([0-9A-F])\1([0-9A-F])\1([0-9A-F])\1$/i);return t?"#".concat(t[1].slice(0,1)).concat(t[2].slice(0,1)).concat(t[3].slice(0,1)):e}(ie()(a[1]).hex):void 0}}}var me=function(e){var t=e.name,n=e.value,o=e.onChange,r=e.onClose,a=Object(C.useSelect)((function(e){var t=e("core/block-editor").getSettings;return Object(f.get)(t(),["colors"],[])})),c=Object(p.useCallback)((function(e){e?o(Object(v.applyFormat)(n,{type:t,attributes:{style:"background-image: linear-gradient(transparent 60%, ".concat(le()(e,.5)," 60%)")}})):(o(Object(v.removeFormat)(n,t)),r())}),[a,o]),i=Object(p.useMemo)((function(){return ue(t,n)}),[t,n,a]);return Object(p.createElement)(g.ColorPalette,{value:i,onChange:c})},be=Object(d.withSpokenMessages)((function(e){var t=e.name,n=e.value,o=e.onChange,r=e.onClose,a=P({ref:e.contentRef,value:n,settings:e.settings});return Object(p.createElement)(g.URLPopover,{value:n,onClose:r,className:"sme-popover components-inline-color-popover",anchorRef:a},Object(p.createElement)(me,{name:t,value:n,onChange:o,onClose:r}))})),pe=Object(O.__)("Highlighter","snow-monkey-editor"),fe=[],ge={name:"snow-monkey-editor/highlighter",title:pe,tagName:"span",className:"sme-highlighter",attributes:{style:"style"},edit:function(e){var t=e.value,n=e.onChange,o=e.isActive,r=e.activeAttributes,a=e.contentRef,c=Object(g.__experimentalUseEditorFeature)("color.custom"),i=Object(g.__experimentalUseEditorFeature)("color.palette")||fe,s=Object(p.useState)(!1),l=b()(s,2),u=l[0],m=l[1],O=Object(p.useCallback)((function(){return m(!0)}),[m]),j=Object(p.useCallback)((function(){return m(!1)}),[m]),y=Object(p.useMemo)((function(){var e=ue("snow-monkey-editor/highlighter",t);if(e)return{backgroundColor:e}}),[t,i]),h=!Object(f.isEmpty)(i)||!c;return h||o?Object(p.createElement)(p.Fragment,null,Object(p.createElement)(N,{key:o?"sme-highlighter":"sme-highlighter-not-active",name:o?"sme-highlighter":void 0,title:pe,className:"format-library-text-color-button sme-toolbar-button",onClick:h?O:function(){return n(Object(v.removeFormat)(t,"snow-monkey-editor/highlighter"))},icon:Object(p.createElement)(p.Fragment,null,Object(p.createElement)(d.Icon,{icon:"admin-customizer"}),o&&Object(p.createElement)("span",{className:"format-library-text-color-button__indicator sme-toolbar-button__indicator",style:y}))}),u&&Object(p.createElement)(be,{name:"snow-monkey-editor/highlighter",onClose:j,activeAttributes:r,value:t,onChange:function(){n.apply(void 0,arguments)},contentRef:a,settings:ge})):null}},de=Object(O.__)("Badge","snow-monkey-editor"),ve=[],Oe={name:"snow-monkey-editor/badge",title:de,tagName:"span",className:"sme-badge",attributes:{style:"style",class:"class"},edit:function(e){var t=e.value,n=e.onChange,o=e.isActive,r=e.activeAttributes,a=e.contentRef,c=Object(g.__experimentalUseEditorFeature)("color.custom"),i=Object(g.__experimentalUseEditorFeature)("color.palette")||ve,s=Object(p.useState)(!1),l=b()(s,2),u=l[0],m=l[1],O=Object(p.useCallback)((function(){return m(!0)}),[m]),j=Object(p.useCallback)((function(){return m(!1)}),[m]),y=Object(p.useMemo)((function(){var e=ee("snow-monkey-editor/badge",t,i);if(e)return{backgroundColor:e}}),[t,i]),h=!Object(f.isEmpty)(i)||!c;return h||o?Object(p.createElement)(p.Fragment,null,Object(p.createElement)(N,{key:o?"sme-badge":"sme-badge-not-active",name:o?"sme-badge":void 0,title:de,className:"format-library-text-color-button sme-toolbar-button",onClick:h?O:function(){return n(Object(v.removeFormat)(t,"snow-monkey-editor/badge"))},icon:Object(p.createElement)(p.Fragment,null,Object(p.createElement)(d.Icon,{icon:"tag"}),o&&Object(p.createElement)("span",{className:"format-library-text-color-button__indicator sme-toolbar-button__indicator",style:y}))}),u&&Object(p.createElement)(ne,{name:"snow-monkey-editor/badge",onClose:j,activeAttributes:r,value:t,onChange:function(){n.apply(void 0,arguments)},contentRef:a,settings:Oe})):null}};h(o),h(r),h(a),h(c),h(i),h(s),h(l),h(u);var je=n(10),ye=n(6),he=n(12),we={name:"sme-alert",label:Object(O.__)("Alert","snow-monkey-editor")},ke=["core/group","core/paragraph"].map((function(e){return{name:e,settings:we}})),Ce={name:"sme-alert-success",label:Object(O.__)("Alert (Success)","snow-monkey-editor")},_e=["core/group","core/paragraph"].map((function(e){return{name:e,settings:Ce}})),xe={name:"sme-alert-warning",label:Object(O.__)("Alert (Warning)","snow-monkey-editor")},Ee=["core/group","core/paragraph"].map((function(e){return{name:e,settings:xe}})),Fe={name:"sme-alert-remark",label:Object(O.__)("Alert (Remarks)","snow-monkey-editor")},Se=["core/group","core/paragraph"].map((function(e){return{name:e,settings:Fe}})),Ne={name:"sme-fluid-shape-1",label:Object(O.__)("Fluid Shape 1","snow-monkey-editor")},Ae=["core/image","core/media-text"].map((function(e){return{name:e,settings:Ne}})),Re={name:"sme-fluid-shape-2",label:Object(O.__)("Fluid Shape 2","snow-monkey-editor")},Me=["core/image","core/media-text"].map((function(e){return{name:e,settings:Re}})),Pe={name:"sme-fluid-shape-3",label:Object(O.__)("Fluid Shape 3","snow-monkey-editor")},ze=["core/image","core/media-text"].map((function(e){return{name:e,settings:Pe}})),Te={name:"sme-list-arrow",label:Object(O.__)("Arrow","snow-monkey-editor")},Ie=["core/list"].map((function(e){return{name:e,settings:Te}})),Ue={name:"sme-list-check",label:Object(O.__)("Check","snow-monkey-editor")},Be=["core/list"].map((function(e){return{name:e,settings:Ue}})),Le={name:"sme-list-remark",label:Object(O.__)("Remarks","snow-monkey-editor")},De=["core/list"].map((function(e){return{name:e,settings:Le}})),Ze={name:"sme-list-times",label:Object(O.__)("Times","snow-monkey-editor")},Ve=["core/list"].map((function(e){return{name:e,settings:Ze}})),$e={name:"sme-ordered-list-circle",label:Object(O.__)("Ordered list (Circle)","snow-monkey-editor")},qe=["core/list"].map((function(e){return{name:e,settings:$e}})),He={name:"sme-ordered-list-square",label:Object(O.__)("Ordered list (Square)","snow-monkey-editor")},We=["core/list"].map((function(e){return{name:e,settings:He}})),Ge={name:"sme-post-it",label:Object(O.__)("Post-it","snow-monkey-editor")},Je=["core/paragraph"].map((function(e){return{name:e,settings:Ge}})),Ke={name:"sme-post-it-narrow",label:Object(O.__)("Post-it (Narrow)","snow-monkey-editor")},Qe=["core/paragraph"].map((function(e){return{name:e,settings:Ke}})),Xe={name:"sme-shadowed",label:Object(O.__)("Shadowed","snow-monkey-editor")},Ye=["core/image","core/button"].map((function(e){return{name:e,settings:Xe}})),et={name:"sme-speech",label:Object(O.__)("Speech","snow-monkey-editor")};[ke,_e,Ee,Se,Ae,Me,ze,Ie,Be,De,Ve,qe,We,Je,Qe,Ye,["core/paragraph"].map((function(e){return{name:e,settings:et}}))].forEach((function(e){e.forEach((function(e){return function(e){if(e){var t=e.name,n=e.settings;Object(je.registerBlockStyle)(t,n)}}(e)}))})),Object(ye.addFilter)("editor.BlockEdit","snow-monkey-editor/ordered-list/block-edit",Object(he.createHigherOrderComponent)((function(e){return function(t){var n=t.attributes,o=t.name,r=t.clientId,a=n.start,c=n.reversed,i=n.ordered;if("core/list"!==o)return Object(p.createElement)(e,t);var s=document.querySelector('[data-block="'.concat(r,'"].rich-text'));return s?s.classList.contains("is-style-sme-ordered-list-square")||s.classList.contains("is-style-sme-ordered-list-circle")?(s.style.counterReset=i?"sme-count ".concat(c?a+1:a-1):"",Object(p.createElement)(e,t)):(s.style.counterReset="",Object(p.createElement)(e,t)):Object(p.createElement)(e,t)}}),"withSnowMonkeyEditorOrderdListBlockEdit"))}]);